@using Net14.Web.Services;
@inject UserService UserService
@inject AdvertisingService advertisingService
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social</title>
    <link rel="stylesheet" href="~/css/SocialCss/SocialCss.css" />
    <link rel="stylesheet" href="~/css/SocialCss/MyFiles.css" />
    <link rel="stylesheet" href="~/css/SocialCss/findUsers.css">
    <link rel="stylesheet" href="~/css/SocialCss/SettingsSocialCss.css">
    <link rel="stylesheet" href="~/css/SocialCss/AddPost.css">
    <link rel="stylesheet" href="~/css/Shulte/FindGame.css">
    <link rel="stylesheet" href="~/css/SocialCss/NotificationsCss.css">

    <script language="JavaScript" type="text/javascript" src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/microsoft/signalr/dist/browser/signalr.min.js"></script>
    <script src="~/js/SocialJS/SocialJS.js"></script>

    @RenderSection("Scripts", required: false)

</head>
<body>
    <header class="header">
        <div class="logo">
            <img src="~/images/Social/j.png">                
        </div>
        @if (User.Identity.IsAuthenticated) {
            @RenderSection("ProfileBoxMenu", required: false)            
        }
        <div class="header-search">
            <input placeholder="Search">
        </div>
        <ul class="navigation">
            <li class="navigation-element"><a href="/Social/Index">Home</a></li>

            @if (User.Identity.IsAuthenticated) {
                <li class="navigation-element"><a href="/SocialAuthentication/SignOut">Sign out</a></li>
                <li class="navigation-element" id="notification-icon" @*onclick="location.href='/Social/Notification'"*@ ;>

                    @if (UserService.GetUsersNotifications() > 0)
                    {
                        <span class="badge">@UserService.GetUsersNotifications()</span>

                    }

                </li>
            }
            else
            {
                <li class="navigation-element"><a href="/SocialAuthentication/Autorization">Sign in</a></li>
            }
            <li class="navigation-element" id="settings-icon"></li>
        </ul>
        <div class="notification-block">
            <div class="notification-header">Notifications</div>
            <div class="flex-notification">
                <div class="notification-container template" id="notif">
                    <div class="notification-element">
                        <div class="user-photo-notification">
                            <img src="~/images/Social/User.jpg">
                        </div>
                        <div class="friend-user-notification">
                            Alex zhur made a friend request
                        </div>
                    </div>
                    <div class="operations-notification">
                        <div class="accept-button" @*onclick="location.href='@Url.Action("AcceptFriend", "Social", new { friendId = requests.Sender.Id })'"*@>Accept</div>
                        <div class="decline-button" @*onclick="location.href='@Url.Action("DeclineFriend", "Social", new { friendId = requests.Sender.Id })'"*@>Decline</div>
                    </div>
                </div>
                <div class="notification-container-decline-accept template" id="notif">
                    <div class="notification-element">
                        <div class="user-photo-notification">
                            <img src="~/images/Social/User.jpg">
                        </div>
                        <div class="friend-user-notification">
                            You accepted a friend request from @*@requests.Sender.FirstName @requests.Sender.LastName*@Alex zhur
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="settings-div" id="header-settings">
            @if (User.Identity.IsAuthenticated)
            {
                <div class="elements-from-hidden" onclick="location.href='/Social/Settings'">User settings</div>

            }
            <div class="elements-from-hidden" onclick="location.href='/SocialCurrency/GetCurrency'">Currency</div>
            <div class="elements-from-hidden" id="find-game"> Games </div>
            <div class="menu-games">
                <div class="find-block">
                    <div class="game">
                        <a href="/SocialGames/ShulteGame"> Shulte</a>
                    </div>
                </div>
            </div>
            <div class="elements-from-hidden" onclick="location.href='/Home/Index';"> Start page </div>
            <div class="elements-from-hidden" onclick="location.href='/SocialVideos/GetVideos';">Learn C#</div>
        </div>
    </header>
    <div class="maincontent">
        <div class="menu-container">
            <div class="menu">
                <div class="buttons-menu">

                    @if (User.Identity.IsAuthenticated) {
                        <div class="menu-element" onclick="location.href='/Social/ShowPagesProfile';">Profile</div>
                        <div class="menu-element" onclick="location.href='/SocialFile/MyFiles';">My Files</div>
                        <div class="menu-element" onclick="location.href='/SocialRecomendation/Recomendations';">Recomendation</div>
                    }   
                        <div class="menu-element" onclick="location.href='/SocialGroups/GetGroups';">Groups</div>
                        <div class="menu-element" onclick="location.href='/Social/ShowAllUsers';">Find user</div>
                    @if (User.Identity.IsAuthenticated) {
                        <div class="menu-element" onclick="location.href='/Social/Friends';">Friends</div>
                    }
                </div>
                @RenderSection("NavbarRecomendations", required: false)
            </div>
        </div>
        <div class="content">
            @RenderBody()
        </div>
        <div class="advertising-container">
            <div class="advertising">
                <a href="/Store/Index" class="name-shop">
                    <img src="/images/Store/LogoGray.png" class="logo-shop">
                    <span class=shopox>ShopOx</span>
                </a>
                @foreach (var product in advertisingService.GetAdvertising())
                {
                    <div class="advertising-element" onclick="location.href = '/Store/Shoes?id=@product.Id';">
                        <img src="@product.Images[2]" class="advertising-images">
                        <div>@product.Name</div>
                    </div>
                }
            </div>
        </div>
    </div>
    <div class="notif-div-bottom">
        <div class="notif-div-bottom-content">
            <img/>
        </div>
    </div>
    <footer class="footer">
        TeamSocial 2022
    </footer>
</body>
</html>
